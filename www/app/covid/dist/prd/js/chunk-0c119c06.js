(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0c119c06"],{"07d4":function(e,t,a){"use strict";var r=a("2ce2"),i=a.n(r);i.a},"2ce2":function(e,t,a){},"769d":function(e,t,a){"use strict";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("ul",{staticClass:"data-stats"},e._l(e.dataStats,(function(t){return a("li",{key:t.srccode,attrs:{rec:t}},[e._v("DataSrc: "+e._s(t.srccode)+" : "+e._s(t.ct)+" records. Last retrieved: "+e._s(t.date||"never"))])})),0),a("ul",[a("li",[a("div",[a("label",[e._v("Retrieve remote data")]),a("select",{directives:[{name:"model",rawName:"v-model",value:e.dataSrc,expression:"dataSrc"}],attrs:{name:"dataSrc"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.dataSrc=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("-- Select Data Source --")]),a("option",{attrs:{value:"JH_GLOBAL_CONF:JH_GLOBAL_DEATHS:JH_GLOBAL_RECOVER"}},[e._v("All JH Global Data (Confirmed, Deaths, Recovered)")]),a("option",{attrs:{value:"JH_US_CONF:JH_US_DEATHS"}},[e._v("All JH US Data (Confirmed, Deaths)")]),a("option",{attrs:{value:"CTP_STATES_DAILY"}},[e._v("Get Covid Tracking Project US states/daily")]),a("option",{attrs:{value:"JH_US_CONF"}},[e._v("Get JH US confirmed cases time series")]),a("option",{attrs:{value:"JH_US_DEATHS"}},[e._v("Get JH US new deaths time series")]),a("option",{attrs:{value:"JH_GLOBAL_CONF"}},[e._v("Get JH Global confirmed cases time series")]),a("option",{attrs:{value:"JH_GLOBAL_DEATHS"}},[e._v("Get JH Global new deaths time series")]),a("option",{attrs:{value:"JH_GLOBAL_RECOVER"}},[e._v("Get JH Global recovered cases time series")])]),a("br"),a("input",{directives:[{name:"model",rawName:"v-model",value:e.expireExistingRemote,expression:"expireExistingRemote"}],attrs:{type:"checkbox",name:"expireAll",value:"1"},domProps:{checked:Array.isArray(e.expireExistingRemote)?e._i(e.expireExistingRemote,"1")>-1:e.expireExistingRemote},on:{change:function(t){var a=e.expireExistingRemote,r=t.target,i=!!r.checked;if(Array.isArray(a)){var n="1",o=e._i(a,n);r.checked?o<0&&(e.expireExistingRemote=a.concat([n])):o>-1&&(e.expireExistingRemote=a.slice(0,o).concat(a.slice(o+1)))}else e.expireExistingRemote=i}}}),e._v("Expire existing remote records for this source "),a("div",{staticClass:"center"},[a("button",{attrs:{id:"go-getData"},on:{click:function(t){return e.getData()}}},[e._v("GO")])])])]),a("li",[a("label",[e._v("Retrieve ALL remote data:")]),a("button",{on:{click:function(t){return e.getALLData()}}},[e._v("GO")])]),a("li",[e._v(" Create Combined data: "),a("br"),a("select",{directives:[{name:"model",rawName:"v-model",value:e.dataSrcCombined,expression:"dataSrcCombined"}],attrs:{name:"dataSrc"},on:{change:function(t){var a=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.dataSrcCombined=t.target.multiple?a:a[0]}}},[a("option",{attrs:{value:""}},[e._v("-- Select Data Source --")]),a("option",{attrs:{value:"JH_GLOBAL_CONF:JH_US_CONF:CTP_STATES_DAILY"}},[e._v("Create for ALL data sources")]),a("option",{attrs:{value:"JH_US_CONF"}},[e._v("JH US confirmed cases time series")]),a("option",{attrs:{value:"JH_US_DEATHS"}},[e._v("JH US new deaths time series")]),a("option",{attrs:{value:"JH_GLOBAL_CONF"}},[e._v("JH Global confirmed cases time series")]),a("option",{attrs:{value:"JH_GLOBAL_DEATHS"}},[e._v("JH Global new deaths time series")]),a("option",{attrs:{value:"JH_GLOBAL_RECOVER"}},[e._v("JH Global recovered cases time series")]),a("option",{attrs:{value:"CTP_STATES_DAILY"}},[e._v("Covid Tracking Project US states/daily")])]),a("br"),a("button",{on:{click:function(t){return e.createCombined()}}},[e._v("GO")]),a("input",{directives:[{name:"model",rawName:"v-model",value:e.expireAllCombined,expression:"expireAllCombined"}],attrs:{type:"checkbox",name:"expireAll",value:"1"},domProps:{checked:Array.isArray(e.expireAllCombined)?e._i(e.expireAllCombined,"1")>-1:e.expireAllCombined},on:{change:function(t){var a=e.expireAllCombined,r=t.target,i=!!r.checked;if(Array.isArray(a)){var n="1",o=e._i(a,n);r.checked?o<0&&(e.expireAllCombined=a.concat([n])):o>-1&&(e.expireAllCombined=a.slice(0,o).concat(a.slice(o+1)))}else e.expireAllCombined=i}}}),e._v("Expire all existing ")])])])},i=[];a("d3b7");function n(e,t,a,r,i){return a||(a=function(e,t,a){return e}),i||(i=function(e,t,a){var r=e.responseText?e.responseText:a;throw console.error("Error: "+r),new Error(r)}),new Promise((function(a,i){$.ajax({url:e,data:t,sync:r,processData:!1,contentType:!1,type:"POST"}).done(a).fail(i)}))}var o={name:"DataUpdate",data:function(){return{dataSrc:"",dataSrcCombined:"",dataStats:[],expireAllCombined:!1,expireExistingRemote:!1,urlDataStats:"/cvd/remoteDataStats",flgIsFetching:!1}},created:function(){this.getRemoteDataStats()},methods:{getData:function(){var e=this;if(this.dataSrc){var t="/cvd/retrieveData?dataSrc="+this.dataSrc;this.expireExistingRemote&&(t+="&expireExisting=true"),this.flgIsFetching=!0,this.$http.get(t).then((function(t){var a;e.flgIsFetching=!1,a=t.src+"\r\n",a+=t.srccode+"\r\n",a+="Reords: "+t.cts.ctTotalRecords.value+"\r\n",a+="Created: "+t.cts.ctNewRecordsCreated.value+"\r\n",a+="Errors: "+t.cts.ctBadRecords.value,alert(a)})).catch((function(t){e.flgIsFetching=!1,alert(t.responseText)}))}},getRemoteDataStats:function(){var e=this,t=this.urlDataStats;this.$http.get(t).then((function(t){var a=t.data,r=a.items;e.dataStats=r}))},getALLData:function(){var e=this;this.flgIsFetching=!0;var t="/cvd/retrieveALLData";$.get(t).then((function(t){var a;a=t,e.flgIsFetching=!1,alert(a)})).catch((function(t){e.flgIsFetching=!1,alert(t.responseText)}))},createCombined:function(){var e=this;this.flgIsFetching=!0;var t=new FormData,a="/cvd/createCombinedData";t.append("dataSrc",this.dataSrcCombined);this.expireAllCombined;this.expireAllCombined&&t.append("expireAll",!0),n(a,t).then((function(t){var a;a=t,e.flgIsFetching=!1,alert(a)})).catch((function(t){e.flgIsFetching=!1,alert(t.responseText)}))}}},s=o,c=(a("07d4"),a("2877")),l=Object(c["a"])(s,r,i,!1,null,"124226c6",null);t["default"]=l.exports}}]);
//# sourceMappingURL=chunk-0c119c06.js.map