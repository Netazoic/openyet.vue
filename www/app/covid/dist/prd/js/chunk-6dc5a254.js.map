{"version":3,"sources":["webpack:///./src/views/CombinedGrid.vue?5cca","webpack:///./src/views/CombinedGrid.vue?f915","webpack:///./src/views/CombinedGrid.vue?5ff5","webpack:///./src/views/CombinedGrid.vue","webpack:///src/views/CombinedGrid.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_m","staticClass","staticStyle","countries","model","value","filter","callback","$$v","$set","expression","class","disabled","states","length","flgState","state","colDefs","gridCode","dataURL","defaultRec","searchQuery","flgReadOnly","on","onUpdateGridVal","$event","flgDirty","dlgs","dlgAlert","id","flg","toggleDialog","domProps","_s","alertMsg","staticRenderFns","_v","component","name","components","joModal","props","data","country","gridDefaults","gridOptions","flgDebug","urlCountries","urlStates","urlData","reloadIdx","infoMsg","mounted","created","initGrid","getCountries","getStates","computed","url","flgCity","countrycode","statecode","statesURL","Object","keys","forEach","rec","col","colName","default","colCity","hidden","colState","watch","newVal","substr","strDefault","console","log","err","options","vm","optString","comopts","methods","initOpts","getColDefs","onUpdate","row","showAlert","msg","replace","dlg","toggleState"],"mappings":"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","file":"js/chunk-6dc5a254.js","sourcesContent":["import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CombinedGrid.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CombinedGrid.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('div',{attrs:{\"id\":\"asyncticator-mount\"}}),_vm._m(0),_c('div',{attrs:{\"id\":\"div-controls\"}},[_c('div',{staticClass:\"control\",staticStyle:{\"width\":\"20rem\"},attrs:{\"id\":\"cc\"}},[_c('vue-select',{staticClass:\"vs__search\",staticStyle:{\"width\":\"100%\"},attrs:{\"options\":_vm.countries,\"placeholder\":\"-- Country --\",\"label\":\"name\"},model:{value:(_vm.filter.country),callback:function ($$v) {_vm.$set(_vm.filter, \"country\", $$v)},expression:\"filter.country\"}})],1),_c('div',{staticClass:\"control\",class:{disabled:!_vm.states.length},staticStyle:{\"width\":\"20rem\"},attrs:{\"id\":\"sc\"}},[_c('vue-select',{staticClass:\"vs__search\",class:{disabled:!_vm.flgState},staticStyle:{\"width\":\"100%\"},attrs:{\"name\":\"State-Selector\",\"disabled\":_vm.states.length == 0,\"options\":_vm.states,\"placeholder\":\"-- State --\",\"label\":\"name\"},model:{value:(_vm.state),callback:function ($$v) {_vm.state=$$v},expression:\"state\"}})],1),_c('div',{staticClass:\"control\"},[_c('column-selector',{attrs:{\"colDefs\":_vm.colDefs,\"label\":\"Column Selector\",\"title\":\"Select columns that will display in the grid\"}})],1)]),_c('njs-grid',{attrs:{\"gridCode\":_vm.gridCode,\"gridID\":_vm.gridCode,\"colDefs\":_vm.colDefs,\"dataURL\":_vm.dataURL,\"pDefaultRec\":_vm.defaultRec,\"p-filter\":_vm.searchQuery,\"readOnly\":_vm.flgReadOnly},on:{\"update\":_vm.onUpdateGridVal,\"saveGrid\":function($event){_vm.flgDirty=false},\"noteUpdate\":function($event){_vm.flgDirty=true},\"noteDelete\":function($event){_vm.flgDirty=true},\"noteAdd\":function($event){_vm.flgDirty=true},\"reset\":function($event){_vm.flgDirty=false}}}),_c('jo-modal',{attrs:{\"id\":_vm.dlgs.dlgAlert.id,\"flgShow\":_vm.dlgs.dlgAlert.flg,\"flgCancel\":\"false\"},on:{\"ok\":function($event){return _vm.toggleDialog(_vm.dlgs.dlgAlert)},\"cancel\":function($event){return _vm.toggleDialog(_vm.dlgs.dlgAlert)}}},[_c('div',{domProps:{\"innerHTML\":_vm._s(_vm.alertMsg)}})])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(\"Combined Data Grid\")])])}]\n\nexport { render, staticRenderFns }","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CombinedGrid.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CombinedGrid.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./CombinedGrid.vue?vue&type=template&id=66be6b94&\"\nimport script from \"./CombinedGrid.vue?vue&type=script&lang=js&\"\nexport * from \"./CombinedGrid.vue?vue&type=script&lang=js&\"\nimport style0 from \"./CombinedGrid.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div id=\"app\">\r\n    <div id=\"asyncticator-mount\"></div>\r\n    <div>\r\n      <h3>Combined Data Grid</h3>\r\n    </div>\r\n    <div id=\"div-controls\">\r\n      <div class=\"control\" style=\"width:20rem\" id=\"cc\">\r\n        <vue-select\r\n          :options=\"countries\"\r\n          v-model=\"filter.country\"\r\n          placeholder=\"-- Country --\"\r\n          label=\"name\"\r\n          class=\"vs__search\"\r\n          style=\"width:100%\"\r\n        ></vue-select>\r\n      </div>\r\n\r\n      <div class=\"control\" style=\"width:20rem\" id=\"sc\" :class=\"{disabled:!states.length}\">\r\n        <vue-select\r\n          name=\"State-Selector\"\r\n          :disabled=\"states.length == 0\"\r\n          :options=\"states\"\r\n          v-model=\"state\"\r\n          placeholder=\"-- State --\"\r\n          label=\"name\"\r\n          class=\"vs__search\"\r\n          :class=\"{disabled:!flgState}\"\r\n          style=\"width:100%\"\r\n        ></vue-select>\r\n      </div>\r\n      <div class=\"control\">\r\n        <column-selector :colDefs=\"colDefs\" label=\"Column Selector\" title=\"Select columns that will display in the grid\" />\r\n     </div>\r\n    </div>\r\n    <njs-grid\r\n      :gridCode=\"gridCode\"\r\n      :gridID=\"gridCode\"\r\n      :colDefs=\"colDefs\"\r\n      :dataURL=\"dataURL\"\r\n      :pDefaultRec=\"defaultRec\"\r\n      :p-filter=\"searchQuery\"\r\n      :readOnly=\"flgReadOnly\"\r\n      @update=\"onUpdateGridVal\"\r\n      @saveGrid=\"flgDirty=false\"\r\n      @noteUpdate=\"flgDirty=true\"\r\n      @noteDelete=\"flgDirty=true\"\r\n      @noteAdd=\"flgDirty=true\"\r\n      @reset=\"flgDirty=false\"\r\n    />\r\n\r\n    <!-- Alert Dialog -->\r\n    <jo-modal\r\n      :id=\"dlgs.dlgAlert.id\"\r\n      :flgShow=\"dlgs.dlgAlert.flg\"\r\n      flgCancel=\"false\"\r\n      @ok=\"toggleDialog(dlgs.dlgAlert)\"\r\n      @cancel=\"toggleDialog(dlgs.dlgAlert)\"\r\n    >\r\n      <div v-html=\"alertMsg\"></div>\r\n    </jo-modal>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Vue from \"vue\";\r\n// import { njsGrid } from \"@netazoic/njs-grid\";  // as an npm package\r\n// import { njsGrid } from \"./njsGrid\";  // locally compiled module\r\n// import { njsGrid } from \"./njsGrid/src/index.js\"; // as a git subModule\r\nimport njsGrid from \"../njsGrid/src/njsGrid.vue\"; // local src\r\nimport joModal from \"../components/joModal.vue\";\r\nimport ColumnSelector from \"../components/ColumnSelector.vue\";\r\nimport vueSelect from \"vue-select\";\r\nimport * as commonOptions from \"../grid/common-options\";\r\nimport * as util from \"../lib/util.js\";\r\n\r\n// Font Awesome\r\n// Use a standard CDN load on the page that mounts the grid\r\n// CSS\r\nimport \"../css/modal.css\";\r\nimport \"../css/grid.css\";\r\nimport \"@fortawesome/fontawesome-free/css/all.min.css\";\r\nlet rateCodes = [];\r\nconst defaultCell = { width: 200, type: \"text\" };\r\n\r\nexport default {\r\n  name: \"CombinedGrid\",\r\n  components: {\r\n    \"njs-grid\": njsGrid,\r\n    joModal,\r\n    \"column-selector\": ColumnSelector,\r\n    \"vue-select\": vueSelect\r\n  },\r\n  props: [],\r\n  data: function() {\r\n    return {\r\n      country: {name:\" -- Select Country --\"},\r\n      searchQuery: \"\",\r\n      colDefs: [],\r\n      countries: [],\r\n      state: {name:\" -- Select State --\"},\r\n      states: [],\r\n      filter: {\r\n        country: null,\r\n        state: null\r\n      },\r\n      flgReadOnly: true,\r\n      gridDefaults: [],\r\n      gridOptions: [],\r\n      gridCode: \"COMBINED\",\r\n      flgDebug: true,\r\n      flgDirty: false,\r\n      dlgs: {\r\n        dlgAlert: { id: \"dlgAlert\", flg: false }\r\n      },\r\n      urlCountries: \"/cvd/getData/countries\",\r\n      urlStates: \"/cvd/getData/states\",\r\n      urlData: \"/cvd/getData/combined?limit=1000\",\r\n      reloadIdx: 1,\r\n      alertMsg: \"\",\r\n      infoMsg: \"msg\"\r\n    };\r\n  },\r\n  mounted() {},\r\n  created() {\r\n    const vm = this;\r\n    this.initGrid();\r\n    this.getCountries();\r\n    this.getStates();\r\n  },\r\n  computed: {\r\n    dataURL() {\r\n      let url = this.urlData;\r\n      // check if state column is displayed\r\n\r\n      if (this.flgState) url += \"&states=true\";\r\n      if (this.flgCity) url += \"&cities=true\";\r\n      // Add a country if selected\r\n      if (this.filter.country) {\r\n        url += \"&countrycode=\" + this.filter.country.countrycode;\r\n      }\r\n      if (this.filter.state) {\r\n        url += \"&statecode=\" + this.filter.state.statecode;\r\n      }\r\n      return url;\r\n    },\r\n    statesURL() {\r\n      if (!this.filter.country) return null;\r\n      return this.urlStates + \"?countrycode=\" + this.filter.country.countrycode;\r\n    },\r\n    defaultRec() {\r\n      let rec = {};\r\n      const vm = this;\r\n      Object.keys(this.colDefs).forEach(function(idx) {\r\n        let col = vm.colDefs[idx];\r\n        rec[col.colName] = col.default;\r\n      });\r\n\r\n      return rec;\r\n    },\r\n    flgCity() {\r\n      const colCity = this.colDefs.find(function(col) {\r\n        return col.colName == \"county\";\r\n      });\r\n      return !colCity.hidden;\r\n    },\r\n    flgState() {\r\n      const colState = this.colDefs.find(function(col) {\r\n        return col.colName == \"state\";\r\n      });\r\n      return !colState.hidden;\r\n    }\r\n  },\r\n  watch: {\r\n    statesURL(newVal) {\r\n      if (!newVal) this.filter.state = null;\r\n      else {\r\n        this.getStates();\r\n      }\r\n    },\r\n    state(newVal){\r\n      const colState = this.colDefs.find(function(col) {\r\n        return col.colName == \"state\";\r\n      });\r\n      colState.hidden = newVal == null;\r\n      this.filter.state = newVal;\r\n    },\r\n    colDefs(newVal) {\r\n      if (!newVal) return;\r\n      const vm = this;\r\n      const comopts = commonOptions || [];\r\n      newVal.forEach(function(col, idx) {\r\n        if (col.default) {\r\n          // parse defaults that start with a : -- these should be global variables in the scope of the grid\r\n          try {\r\n            if (col.default.substr && col.default.substr(0, 1) === \":\") {\r\n              let strDefault = eval(col.default.slice(1));\r\n              if (strDefault) col.default = strDefault;\r\n            }\r\n          } catch (err) {\r\n            console.log(col.default);\r\n            console.log(err);\r\n          }\r\n        }\r\n        if (col.options) {\r\n          let optString = col.options;\r\n          if (vm.gridOptions) col.options = vm.gridOptions[optString];\r\n          if (typeof col.options !== \"object\") {\r\n            col.options = comopts[optString];\r\n          }\r\n        }\r\n      });\r\n    }\r\n  },\r\n\r\n  methods: {\r\n    async initGrid() {\r\n      const vm = this;\r\n      try {\r\n        this.gridOptions = require(\"../grid/coldefs/\" +\r\n          this.gridCode +\r\n          \"_options\");\r\n      } catch (err) {\r\n        this.gridOptions = [];\r\n        // no options for this grid\r\n      }\r\n      // const defaultCell = gridDef.defaultCell;\r\n\r\n      await this.getColDefs(vm);\r\n      this.colDefs.forEach((c, i) => {\r\n        if (defaultCell) {\r\n          if (!c.width) Vue.set(c, \"width\", defaultCell.width);\r\n          if (!c.type) Vue.set(c, \"type\", defaultCell.type);\r\n        }\r\n        if (!c.required && !c.headerClasses && c.editor !== null)\r\n          Vue.set(c, \"headerClasses\", \"optional\");\r\n        //Set 'isVisible' flags\r\n        Vue.set(c, \"isVisible\", !c.hidden);\r\n      });\r\n    },\r\n    initOpts() {\r\n      const vm = this;\r\n      //NOT IN USE\r\n    },\r\n    getColDefs: async vm => {\r\n      // by default, get the columnDefs from local static definition file in /gridcoldefs/<gridCode>.js\r\n      // Can override with a the db grid.gridcolumns table\r\n      // by setting srcColDefs prop to \"api\"\r\n      const src = vm.srcColDefs ? vm.srcColDefs : \"local\";\r\n      if (src == \"local\") {\r\n        let gridDef = require(\"../grid/coldefs/\" + vm.gridCode);\r\n        //let gridDef = [];\r\n        vm.colDefs = gridDef.colDefs;\r\n        return;\r\n      } else {\r\n        // src is from the api\r\n        const url = vm.urlColDefs + \"&gridCode=\" + vm.gridCode;\r\n        return vm.$http.get(url).then(function(resp) {\r\n          // Do something here to convert response into colDefs;\r\n        });\r\n      }\r\n    },\r\n    getCountries() {\r\n      const vm = this;\r\n      const jsonStr = window.localStorage.getItem(\"countries.json\");\r\n      //DEBUG\r\n      if (false) vm.countries = JSON.parse(jsonStr);\r\n      else {\r\n        util\r\n          .getData(vm.urlCountries, vm)\r\n          .then(rso => {\r\n            // Write data to local storage'\r\n            const recs = rso.items;\r\n            window.localStorage.setItem(\"countries.json\", JSON.stringify(recs));\r\n            vm.countries = recs;\r\n          })\r\n          .catch(err => alert(err));\r\n      }\r\n    },\r\n    getStates() {\r\n      const vm = this;\r\n      if (!this.statesURL) return null;\r\n      const jsonStr = window.localStorage.getItem(\"states.json\");\r\n      //DEBUG\r\n      if (false) vm.states = JSON.parse(jsonStr);\r\n      else {\r\n        util\r\n          .getData(this.statesURL, vm)\r\n          .then(rso => {\r\n            // Write data to local storage'\r\n            const recs = rso.items;\r\n            window.localStorage.setItem(\"states.json\", JSON.stringify(recs));\r\n            vm.states = recs;\r\n          })\r\n          .catch(err => alert(err));\r\n      }\r\n    },\r\n    onUpdateGridVal(row, col, idx) {\r\n      if (!col.onUpdate) return null;\r\n      col.onUpdate(row, col, this.gridDefaults);\r\n      return 1;\r\n    },\r\n    showAlert(msg) {\r\n      console.log(msg);\r\n      msg = msg.replace(/\\n/g, \"<br />\");\r\n      msg = msg.replace(/\\\\r\\\\n/g, \"<br />\");\r\n      msg = msg.replace(/\\\\n/g, \"<br />\");\r\n      this.alertMsg = msg;\r\n      this.dlgs.dlgAlert.flg = true;\r\n      //this.dlgs[this.dlgAlert] = true;\r\n    },\r\n    toggleDialog(dlg) {\r\n      dlg.flg = !dlg.flg;\r\n      //    this.dlgs[dlgID] = !this.dlgs[dlgID];\r\n    },\r\n    toggleState() {\r\n      let idx=0;\r\n      const colState = this.colDefs.find(function(col,idx) {\r\n        return col.colName == \"state\";\r\n      });\r\n      colState.hidden = (this.filter.state == null);\r\n      // Vue.set(this.colDefs,idx,colState);\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n#app {\r\n  font-family: \"Avenir\", Helvetica, Arial, sans-serif;\r\n  -webkit-font-smoothing: antialiased;\r\n  -moz-osx-font-smoothing: grayscale;\r\n  text-align: left;\r\n  color: #2c3e50;\r\n  margin-top: 10px;\r\n  margin-left: 30px;\r\n}\r\ndiv#div-controls {\r\n  display: flex;\r\n}\r\ndiv.control {\r\n  flex: 0 1 auto;\r\n  padding: 5px;\r\n}\r\ni.alert-el {\r\n  color: red;\r\n}\r\ndiv#upload-form {\r\n  margin: 20px;\r\n}\r\ndiv#upload-form label,\r\ndiv#upload-form input,\r\ndiv#upload-form select {\r\n  margin-top: 20px;\r\n  float: left;\r\n}\r\ndiv#upload-form label {\r\n  clear: left;\r\n  min-width: 15em;\r\n  font-weight: bold;\r\n}\r\n\r\ndiv#upload-form div.div-buttons {\r\n  float: left;\r\n  clear: left;\r\n  margin-top: 30px;\r\n}\r\n.fade2-enter-active,\r\n.fade2-leave-active {\r\n  transition: opacity 0.5s;\r\n}\r\n.fade2-enter, .fade2-leave-to /* .fade-leave-active below version 2.1.8 */ {\r\n  opacity: 0;\r\n}\r\n</style>\r\n"],"sourceRoot":""}